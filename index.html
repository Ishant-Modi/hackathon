<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shelter Link - Login</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>

  <body class="bg-light">
    <!-- Offline Banner -->
    <div id="offline-banner" class="alert alert-warning text-center d-none">
      <i class="fas fa-exclamation-triangle"></i>
      <span data-translate="offline_warning"
        >‚ö†Ô∏è You're offline ‚Äì showing cached data</span
      >
    </div>

    <!-- User Type Selection Modal -->
    <div class="modal fade" id="userTypeModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" data-translate="select_user_type">Select User Type</h5>
          </div>
          <div class="modal-body">
            <div class="row g-4">
              <div class="col-6">
                <button class="btn btn-primary w-100 h-100 d-flex flex-column align-items-center justify-content-center py-4" onclick="selectUserType('worker')">
                  <i class="fas fa-user fa-3x mb-3"></i>
                  <span data-translate="worker_login">Worker</span>
                </button>
              </div>
              <div class="col-6">
                <button class="btn btn-outline-primary w-100 h-100 d-flex flex-column align-items-center justify-content-center py-4" onclick="selectUserType('employer')">
                  <i class="fas fa-building fa-3x mb-3"></i>
                  <span data-translate="employer_login">Employer</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid vh-100 d-flex align-items-center justify-content-center">
      <div class="row w-100">
        <div class="col-md-8 col-lg-6 col-xl-5 mx-auto">
          <!-- Worker Login Card -->
          <div class="card shadow-lg" id="workerLoginCard" style="display: none;">
            <div class="card-header bg-primary text-white text-center">

              <h2 class="mb-0">üë∑ Worker Login</h2>
              <p class="mb-0 small" data-translate="worker_login_subtitle">
                Access your work profile and opportunities


              </p>
            </div>
            <div class="card-body p-4">
              <form id="workerLoginForm">
                <div class="mb-3">
                  <label for="workerMigrantId" class="form-label" data-translate="migrant_id_label">
                    Aadhaar/Migrant ID
                  </label>
                  <select class="form-select" id="workerMigrantId" required>
                    <option value="" data-translate="select_user">Select User</option>
                    <option value="ravi_kumar">Ravi Kumar (Bihar ‚Üí Kolkata)</option>
                    <option value="priya_sharma">Priya Sharma (UP ‚Üí Maharashtra)</option>
                    <option value="amit_das">Amit Das (West Bengal ‚Üí Karnataka)</option>
                    <option value="sunita_devi">Sunita Devi (Rajasthan ‚Üí West Bengal)</option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="workerLanguage" class="form-label" data-translate="language_label">Language</label>
                  <select class="form-select" id="workerLanguage">
                    <option value="en">English</option>
                    <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                    <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
                    <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
                    <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
                    <option value="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</option>
                    <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
                    <option value="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</option>
                    <option value="pa">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä</option>
                    <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
                  </select>
                </div>

                <button type="submit" class="btn btn-primary w-100 mb-3" data-translate="login_button">
                  <i class="fas fa-sign-in-alt"></i> Login as Worker
                </button>
                
                <div class="text-center">
                  <a href="register.html?type=worker" class="text-decoration-none" data-translate="register_link">
                    Don't have an account? Register here
                  </a>
                </div>
              </form>
            </div>
          </div>

          <!-- Employer Login Card -->
          <div class="card shadow-lg" id="employerLoginCard" style="display: none;">
            <div class="card-header bg-success text-white text-center">
              <h2 class="mb-0">üè¢ Employer Login</h2>
              <p class="mb-0 small" data-translate="employer_login_subtitle">
                Manage your workforce and postings
              </p>
            </div>
            <div class="card-body p-4">
              <form id="employerLoginForm">
                <div class="mb-3">
                  <label for="employerEmail" class="form-label" data-translate="email_label">
                    Company Email
                  </label>
                  <select class="form-select" id="employerEmail" required>
                    <option value="" data-translate="select_employer">Select Employer</option>
                    <option value="abc_construction">ABC Construction Ltd</option>
                    <option value="metro_builders">Metro Builders Pvt Ltd</option>
                    <option value="sunrise_infra">Sunrise Infrastructure</option>
                    <option value="urban_developers">Urban Developers</option>
                  </select>
                </div>

                <div class="mb-3">
                  <label for="employerPassword" class="form-label" data-translate="password_label">Password</label>
                  <input type="password" class="form-control" id="employerPassword" placeholder="Enter password" required>
                </div>

                <div class="mb-3">
                  <label for="employerLanguage" class="form-label" data-translate="language_label">Language</label>
                  <select class="form-select" id="employerLanguage">
                    <option value="en">English</option>
                    <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                    <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
                    <option value="te">‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</option>
                    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
                    <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
                    <option value="gu">‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä</option>
                    <option value="kn">‡≤ï‡≤®‡≥ç‡≤®‡≤°</option>
                    <option value="ml">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</option>
                    <option value="pa">‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä</option>
                    <option value="or">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</option>
                  </select>
                </div>

                <button type="submit" class="btn btn-success w-100 mb-3" data-translate="login_button">
                  <i class="fas fa-sign-in-alt"></i> Login as Employer
                </button>
                
                <div class="text-center">
                  <a href="register.html?type=employer" class="text-decoration-none" data-translate="register_link">
                    Don't have an account? Register here
                  </a>
                </div>
              </form>
            </div>
          </div>

          <!-- Back to Landing Page -->
          <div class="text-center mt-3">
            <a href="landing.html" class="btn btn-outline-secondary" data-translate="back_to_home">
              <i class="fas fa-arrow-left"></i> Back to Home
            </a>
          </div>
        </div>
            <div class="card-footer text-center text-light">
              <small data-translate="footer_text"
                >Bridging Services Across States</small
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-light py-5 mt-5">
      <div class="container">
        <div class="row">
          <div class="col-md-4 mb-4">
            <h5>
              <i class="fas fa-info-circle text-primary me-2"></i
              ><span data-translate="footer_about">About Shelter Link</span>
            </h5>
            <p class="text-light small" data-translate="footer_about_desc">
              Empowering India's internal migrant workers with seamless access
              to essential services across states. Making benefits truly
              portable and accessible for all.
            </p>
            <div class="mt-3">
              <span
                class="badge bg-primary me-2"
                data-translate="footer_gov_initiative"
                >Government of India Initiative</span
              >
            </div>
          </div>

          <div class="col-md-2 mb-4">
            <h6>
              <i class="fas fa-link text-primary me-2"></i
              ><span data-translate="footer_quick_links">Quick Links</span>
            </h6>
            <ul class="list-unstyled">
              <li>
                <a
                  href="dashboard.html"
                  class="text-light text-decoration-none small"
                  >Dashboard</a
                >
              </li>
              <li>
                <a
                  href="jobs.html"
                  class="text-light text-decoration-none small"
                  >Jobs Portal</a
                >
              </li>
              <li>
                <a
                  href="food.html"
                  class="text-light text-decoration-none small"
                  >Food Benefits</a
                >
              </li>
              <li>
                <a
                  href="health.html"
                  class="text-light text-decoration-none small"
                  >Healthcare</a
                >
              </li>
              <li>
                <a
                  href="education.html"
                  class="text-light text-decoration-none small"
                  >Education</a
                >
              </li>
              <li>
                <a
                  href="finance.html"
                  class="text-light text-decoration-none small"
                  >Finance</a
                >
              </li>
              <li>
                <a
                  href="grievances.html"
                  class="text-light text-decoration-none small"
                  >Grievances</a
                >
              </li>
              <li>
                <a
                  href="welfare.html"
                  class="text-light text-decoration-none small"
                  >Welfare Schemes</a
                >
              </li>
              <li>
                <a href="qr.html" class="text-light text-decoration-none small"
                  >QR Identity</a
                >
              </li>
            </ul>
          </div>

          <div class="col-md-2 mb-4">
            <h6>
              <i class="fas fa-cog text-primary me-2"></i
              ><span data-translate="footer_services">Services</span>
            </h6>
            <ul class="list-unstyled">
              <li>
                <a
                  href="#"
                  class="text-light text-decoration-none small"
                  data-translate="footer_privacy"
                  >Privacy Policy</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-light text-decoration-none small"
                  data-translate="footer_terms"
                  >Terms of Service</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-light text-decoration-none small"
                  data-translate="footer_accessibility"
                  >Accessibility</a
                >
              </li>
              <li>
                <a
                  href="#"
                  class="text-light text-decoration-none small"
                  data-translate="footer_feedback"
                  >Feedback</a
                >
              </li>
            </ul>
          </div>

          <div class="col-md-4 mb-4">
            <h6>
              <i class="fas fa-phone text-primary me-2"></i
              ><span data-translate="footer_contact">Contact Info</span>
            </h6>
            <div class="text-light small">
              <p class="mb-2">
                <i class="fas fa-headset me-2"></i>
                <span data-translate="footer_helpline">National Helpline</span>:
                <a
                  href="tel:1800-XXX-XXXX"
                  class="text-primary text-decoration-none"
                  >1800-XXX-XXXX</a
                >
              </p>
              <p class="mb-2">
                <i class="fas fa-envelope me-2"></i>
                <span data-translate="footer_email">Email Support</span>:
                <a
                  href="mailto:support@ShelterLink.gov.in"
                  class="text-primary text-decoration-none"
                  >support@ShelterLink.gov.in</a
                >
              </p>
              <p class="mb-2">
                <i class="fas fa-globe me-2"></i>
                <span data-translate="footer_website">Official Website</span>:
                <a href="#" class="text-primary text-decoration-none"
                  >www.ShelterLink.gov.in</a
                >
              </p>
            </div>
          </div>
        </div>

        <hr class="my-4" />

        <div class="row align-items-center">
          <div class="col-12 text-center">
            <p class="mb-0 text-light small">
              <span data-translate="footer_copyright"
                >¬© 2025 ShelterLink. All rights reserved.</span
              >
            </p>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="assets/js/language.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
      let userType = null;

      // Check URL parameters for user type
      document.addEventListener('DOMContentLoaded', function() {
        const urlParams = new URLSearchParams(window.location.search);
        const type = urlParams.get('type');
        
        if (type === 'worker' || type === 'employer') {
          selectUserType(type);
        } else {
          // Show user type selection modal
          new bootstrap.Modal(document.getElementById('userTypeModal')).show();
        }

        // Load saved language
        const savedLanguage = localStorage.getItem('selectedLanguage') || 'en';
        loadLanguage(savedLanguage);
      });

      function selectUserType(type) {
        userType = type;
        bootstrap.Modal.getInstance(document.getElementById('userTypeModal'))?.hide();
        
        if (type === 'worker') {
          document.getElementById('workerLoginCard').style.display = 'block';
          document.getElementById('employerLoginCard').style.display = 'none';
        } else {
          document.getElementById('employerLoginCard').style.display = 'block';
          document.getElementById('workerLoginCard').style.display = 'none';
        }
      }

      // Worker login form handler
      document.getElementById('workerLoginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const migrantId = document.getElementById('workerMigrantId').value;
        const language = document.getElementById('workerLanguage').value;
        
        if (!migrantId) {
          alert('Please select a user');
          return;
        }
        
        // Store user data
        const userData = {
          type: 'worker',
          id: migrantId,
          language: language,
          loginTime: new Date().toISOString()
        };
        
        localStorage.setItem('currentUser', JSON.stringify(userData));
        localStorage.setItem('selectedLanguage', language);
        
        // Redirect to dashboard
        window.location.href = 'dashboard.html';
      });

      // Employer login form handler
      document.getElementById('employerLoginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const email = document.getElementById('employerEmail').value;
        const password = document.getElementById('employerPassword').value;
        const language = document.getElementById('employerLanguage').value;
        
        if (!email || !password) {
          alert('Please fill in all fields');
          return;
        }
        
        // Simple password check (in real app, this would be server-side)
        if (password !== 'employer123') {
          alert('Invalid password. Use: employer123');
          return;
        }
        
        // Store user data
        const userData = {
          type: 'employer',
          id: email,
          language: language,
          loginTime: new Date().toISOString()
        };
        
        localStorage.setItem('currentUser', JSON.stringify(userData));
        localStorage.setItem('selectedLanguage', language);
        
        // Redirect to employer dashboard
        window.location.href = 'employer-dashboard.html';
      });
    </script>
  </body>
</html>
