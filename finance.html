<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-translate="finance_title">
      Financial Services - MigrantConnect
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="assets/css/tailwind-styles.css" />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#2563eb",
              secondary: "#1e40af",
            },
          },
        },
      };
    </script>
  </head>

  <body class="min-h-screen bg-gray-50">
    <!-- Navigation -->
    <nav class="navbar-modern bg-white shadow-lg">
      <div class="container mx-auto px-4">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center">
            <a
              href="dashboard.html"
              class="flex items-center text-xl font-bold text-blue-600"
            >
              <i class="fas fa-coins mr-2"></i>
              Financial Services
            </a>
          </div>

          <div class="flex items-center space-x-4">
            <!-- Language Dropdown -->
            <div class="relative" id="languageDropdown">
              <button
                class="flex items-center px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"
                onclick="toggleLanguageDropdown()"
              >
                <i class="fas fa-globe mr-2"></i>
                <span id="currentLang">English</span>
                <i class="fas fa-chevron-down ml-2"></i>
              </button>
              <div
                class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg z-50 hidden"
                id="languageMenu"
              >
                <div class="py-1">
                  <a
                    href="#"
                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                    onclick="changeLanguage('en')"
                    >English</a
                  >
                  <a
                    href="#"
                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                    onclick="changeLanguage('hi')"
                    >हिंदी</a
                  >
                  <a
                    href="#"
                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                    onclick="changeLanguage('bn')"
                    >বাংলা</a
                  >
                </div>
              </div>
            </div>

            <!-- Back to Dashboard -->
            <a href="dashboard.html" class="btn-outline-modern">
              <i class="fas fa-arrow-left mr-2"></i>
              <span data-translate="back_to_dashboard">Back to Dashboard</span>
            </a>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <div class="gradient-secondary text-white py-16 mt-16">
      <div class="container mx-auto px-4">
        <div class="text-center">
          <h1 class="text-4xl font-bold mb-4" data-translate="finance_title">
            Financial Services
          </h1>
          <p
            class="text-xl text-indigo-100 mb-8"
            data-translate="finance_subtitle"
          >
            Access banking, loans, insurance, and financial assistance programs
          </p>
        </div>
      </div>
    </div>

    <!-- Financial Summary -->
    <div class="container mx-auto px-4 -mt-8 relative z-10">
      <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
        <h2
          class="text-xl font-semibold text-gray-900 mb-6"
          data-translate="financial_overview"
        >
          Your Financial Overview
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
          <div class="text-center p-4 bg-green-50 rounded-xl">
            <div class="text-3xl font-bold text-green-600">₹12,450</div>
            <div class="text-sm text-gray-600" data-translate="account_balance">
              Account Balance
            </div>
          </div>
          <div class="text-center p-4 bg-blue-50 rounded-xl">
            <div class="text-3xl font-bold text-blue-600">₹8,500</div>
            <div class="text-sm text-gray-600" data-translate="monthly_income">
              Monthly Income
            </div>
          </div>
          <div class="text-center p-4 bg-orange-50 rounded-xl">
            <div class="text-3xl font-bold text-orange-600">₹2,300</div>
            <div
              class="text-sm text-gray-600"
              data-translate="monthly_expenses"
            >
              Monthly Expenses
            </div>
          </div>
          <div class="text-center p-4 bg-purple-50 rounded-xl">
            <div class="text-3xl font-bold text-purple-600">₹6,200</div>
            <div class="text-sm text-gray-600" data-translate="monthly_savings">
              Monthly Savings
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="container mx-auto px-4 mb-8">
      <div class="bg-white rounded-2xl shadow-lg p-6">
        <h2
          class="text-xl font-semibold text-gray-900 mb-6"
          data-translate="quick_financial_services"
        >
          Quick Financial Services
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <button
            onclick="transferMoney()"
            class="flex items-center p-4 bg-blue-50 rounded-xl hover:bg-blue-100 transition-colors"
          >
            <i class="fas fa-exchange-alt text-2xl text-blue-600 mr-3"></i>
            <div class="text-left">
              <div
                class="font-semibold text-gray-900"
                data-translate="transfer_money"
              >
                Transfer Money
              </div>
              <div class="text-sm text-gray-600">Send money to family</div>
            </div>
          </button>

          <button
            onclick="applyLoan()"
            class="flex items-center p-4 bg-green-50 rounded-xl hover:bg-green-100 transition-colors"
          >
            <i class="fas fa-hand-holding-usd text-2xl text-green-600 mr-3"></i>
            <div class="text-left">
              <div
                class="font-semibold text-gray-900"
                data-translate="apply_loan"
              >
                Apply for Loan
              </div>
              <div class="text-sm text-gray-600">Personal & business loans</div>
            </div>
          </button>

          <button
            onclick="viewInsurance()"
            class="flex items-center p-4 bg-purple-50 rounded-xl hover:bg-purple-100 transition-colors"
          >
            <i class="fas fa-shield-alt text-2xl text-purple-600 mr-3"></i>
            <div class="text-left">
              <div
                class="font-semibold text-gray-900"
                data-translate="insurance"
              >
                Insurance
              </div>
              <div class="text-sm text-gray-600">Life & health insurance</div>
            </div>
          </button>

          <button
            onclick="openAccount()"
            class="flex items-center p-4 bg-orange-50 rounded-xl hover:bg-orange-100 transition-colors"
          >
            <i class="fas fa-university text-2xl text-orange-600 mr-3"></i>
            <div class="text-left">
              <div
                class="font-semibold text-gray-900"
                data-translate="open_account"
              >
                Open Account
              </div>
              <div class="text-sm text-gray-600">Zero balance accounts</div>
            </div>
          </button>
        </div>
      </div>
    </div>

    <!-- Bank Accounts -->
    <div class="container mx-auto px-4 mb-8">
      <div class="bg-white rounded-2xl shadow-lg p-6">
        <h2
          class="text-xl font-semibold text-gray-900 mb-6"
          data-translate="your_accounts"
        >
          Your Bank Accounts
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Primary Account -->
          <div
            class="bg-gradient-to-r from-blue-500 to-blue-700 text-white p-6 rounded-2xl"
          >
            <div class="flex justify-between items-start mb-4">
              <div>
                <h3 class="text-lg font-bold">State Bank of India</h3>
                <p class="text-blue-100">Primary Savings Account</p>
              </div>
              <i class="fas fa-university text-2xl"></i>
            </div>
            <div class="space-y-2 mb-4">
              <div class="text-sm">
                <span class="text-blue-200">Account Number:</span>
                <span class="font-mono">**** **** **** 1234</span>
              </div>
              <div class="text-sm">
                <span class="text-blue-200">Balance:</span>
                <span class="font-bold text-2xl">₹12,450</span>
              </div>
              <div class="text-sm">
                <span class="text-blue-200">IFSC:</span>
                <span>SBIN0001234</span>
              </div>
            </div>
            <div class="flex space-x-3">
              <button
                class="bg-white text-blue-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-50 transition-colors"
              >
                View Statement
              </button>
              <button
                class="bg-blue-400 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-300 transition-colors"
              >
                Transfer
              </button>
            </div>
          </div>

          <!-- PMJDY Account -->
          <div
            class="bg-gradient-to-r from-orange-500 to-red-600 text-white p-6 rounded-2xl"
          >
            <div class="flex justify-between items-start mb-4">
              <div>
                <h3 class="text-lg font-bold">PM Jan Dhan Yojana</h3>
                <p class="text-orange-100">Zero Balance Account</p>
              </div>
              <i class="fas fa-piggy-bank text-2xl"></i>
            </div>
            <div class="space-y-2 mb-4">
              <div class="text-sm">
                <span class="text-orange-200">Account Number:</span>
                <span class="font-mono">**** **** **** 5678</span>
              </div>
              <div class="text-sm">
                <span class="text-orange-200">Balance:</span>
                <span class="font-bold text-2xl">₹3,200</span>
              </div>
              <div class="text-sm">
                <span class="text-orange-200">RuPay Card:</span>
                <span>Active</span>
              </div>
            </div>
            <div class="flex space-x-3">
              <button
                class="bg-white text-orange-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-orange-50 transition-colors"
              >
                View Benefits
              </button>
              <button
                class="bg-orange-400 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-orange-300 transition-colors"
              >
                Transfer
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Available Financial Services -->
    <div class="container mx-auto px-4 mb-8">
      <div class="bg-white rounded-2xl shadow-lg p-6">
        <h2
          class="text-xl font-semibold text-gray-900 mb-6"
          data-translate="financial_services"
        >
          Available Financial Services
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="card-feature">
            <div class="text-center mb-4">
              <i
                class="fas fa-hand-holding-usd text-4xl text-green-600 mb-3"
              ></i>
              <h3 class="text-lg font-semibold text-gray-900">Micro Finance</h3>
            </div>
            <ul class="space-y-2 text-sm text-gray-700 mb-4">
              <li>• MUDRA Loans (₹50K - ₹10L)</li>
              <li>• Self Help Group Loans</li>
              <li>• Business Setup Loans</li>
              <li>• Equipment Purchase Loans</li>
            </ul>
            <button class="btn-success-modern w-full">Apply for Loan</button>
          </div>

          <div class="card-feature">
            <div class="text-center mb-4">
              <i class="fas fa-shield-alt text-4xl text-blue-600 mb-3"></i>
              <h3 class="text-lg font-semibold text-gray-900">
                Insurance Plans
              </h3>
            </div>
            <ul class="space-y-2 text-sm text-gray-700 mb-4">
              <li>• Pradhan Mantri Jeevan Jyoti</li>
              <li>• Pradhan Mantri Suraksha Bima</li>
              <li>• Accidental Insurance</li>
              <li>• Health Insurance Plans</li>
            </ul>
            <button class="btn-primary-modern w-full">View Plans</button>
          </div>

          <div class="card-feature">
            <div class="text-center mb-4">
              <i class="fas fa-chart-line text-4xl text-purple-600 mb-3"></i>
              <h3 class="text-lg font-semibold text-gray-900">
                Investment Plans
              </h3>
            </div>
            <ul class="space-y-2 text-sm text-gray-700 mb-4">
              <li>• Public Provident Fund (PPF)</li>
              <li>• National Savings Certificate</li>
              <li>• Fixed Deposits</li>
              <li>• Mutual Fund SIPs</li>
            </ul>
            <button class="btn-secondary-modern w-full">Start Investing</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Transactions -->
    <div class="container mx-auto px-4 mb-8">
      <div class="bg-white rounded-2xl shadow-lg p-6">
        <div class="flex justify-between items-center mb-6">
          <h2
            class="text-xl font-semibold text-gray-900"
            data-translate="recent_transactions"
          >
            Recent Transactions
          </h2>
          <button onclick="viewAllTransactions()" class="btn-outline-modern">
            View All
          </button>
        </div>

        <div id="transactionsList" class="space-y-4">
          <!-- Transactions will be populated by JavaScript -->
        </div>
      </div>
    </div>

    <!-- Financial Tips -->
    <div class="container mx-auto px-4 mb-8">
      <div class="bg-white rounded-2xl shadow-lg p-6">
        <h2
          class="text-xl font-semibold text-gray-900 mb-6"
          data-translate="financial_tips"
        >
          Financial Tips for Migrant Workers
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-green-50 p-6 rounded-xl">
            <h3 class="font-semibold text-green-900 mb-3">
              <i class="fas fa-piggy-bank mr-2"></i>
              Smart Saving Tips
            </h3>
            <ul class="space-y-2 text-green-800 text-sm">
              <li>• Open a zero-balance savings account</li>
              <li>• Use direct benefit transfer (DBT) schemes</li>
              <li>• Save at least 20% of your monthly income</li>
              <li>• Use government savings schemes</li>
            </ul>
          </div>

          <div class="bg-blue-50 p-6 rounded-xl">
            <h3 class="font-semibold text-blue-900 mb-3">
              <i class="fas fa-mobile-alt mr-2"></i>
              Digital Banking
            </h3>
            <ul class="space-y-2 text-blue-800 text-sm">
              <li>• Use UPI for instant money transfers</li>
              <li>• Enable SMS banking for balance updates</li>
              <li>• Use mobile banking apps safely</li>
              <li>• Never share OTP or PIN with anyone</li>
            </ul>
          </div>

          <div class="bg-orange-50 p-6 rounded-xl">
            <h3 class="font-semibold text-orange-900 mb-3">
              <i class="fas fa-chart-pie mr-2"></i>
              Money Management
            </h3>
            <ul class="space-y-2 text-orange-800 text-sm">
              <li>• Track your monthly expenses</li>
              <li>• Send money home regularly</li>
              <li>• Avoid high-interest informal loans</li>
              <li>• Plan for emergency expenses</li>
            </ul>
          </div>

          <div class="bg-purple-50 p-6 rounded-xl">
            <h3 class="font-semibold text-purple-900 mb-3">
              <i class="fas fa-shield-virus mr-2"></i>
              Financial Security
            </h3>
            <ul class="space-y-2 text-purple-800 text-sm">
              <li>• Get life and accident insurance</li>
              <li>• Keep important documents safe</li>
              <li>• Learn about financial schemes</li>
              <li>• Build a good credit history</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Money Transfer Modal -->
    <div
      class="fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50 hidden"
      id="transferModal"
    >
      <div
        class="bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 max-h-screen overflow-y-auto"
      >
        <div class="p-6 border-b border-gray-100">
          <div class="flex justify-between items-center">
            <h3 class="text-xl font-semibold text-gray-900">Transfer Money</h3>
            <button
              onclick="closeTransferModal()"
              class="text-gray-400 hover:text-gray-600"
            >
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
        <div class="p-6">
          <form id="transferForm" class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Transfer To</label
              >
              <select class="form-select-modern" required>
                <option value="">Select recipient</option>
                <option value="family">Family Member</option>
                <option value="friend">Friend</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Mobile Number / Account Number</label
              >
              <input
                type="text"
                class="form-input-modern"
                required
                placeholder="Enter mobile or account number"
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Amount (₹)</label
              >
              <input
                type="number"
                class="form-input-modern"
                required
                placeholder="Enter amount"
                min="1"
              />
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Transfer Method</label
              >
              <div class="space-y-2">
                <label class="flex items-center">
                  <input
                    type="radio"
                    name="transferMethod"
                    value="upi"
                    class="mr-3"
                    checked
                  />
                  <span class="text-sm">UPI Transfer (Instant)</span>
                </label>
                <label class="flex items-center">
                  <input
                    type="radio"
                    name="transferMethod"
                    value="imps"
                    class="mr-3"
                  />
                  <span class="text-sm">IMPS (Within 2 hours)</span>
                </label>
                <label class="flex items-center">
                  <input
                    type="radio"
                    name="transferMethod"
                    value="neft"
                    class="mr-3"
                  />
                  <span class="text-sm">NEFT (Same day)</span>
                </label>
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2"
                >Purpose</label
              >
              <textarea
                class="form-input-modern"
                rows="2"
                placeholder="Reason for transfer (optional)"
              ></textarea>
            </div>

            <div class="bg-yellow-50 p-4 rounded-lg">
              <p class="text-sm text-yellow-800">
                <i class="fas fa-info-circle mr-2"></i>
                Transfer charges: UPI - Free, IMPS - ₹5, NEFT - ₹2.50
              </p>
            </div>

            <div class="flex space-x-3 pt-4">
              <button type="submit" class="btn-primary-modern flex-1">
                <i class="fas fa-paper-plane mr-2"></i>
                Send Money
              </button>
              <button
                type="button"
                onclick="closeTransferModal()"
                class="btn-outline-modern"
              >
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="assets/js/language.js"></script>
    <script>
      // Initialize page
      document.addEventListener("DOMContentLoaded", function () {
        loadLanguage(getCurrentLanguage());
        loadRecentTransactions();
        setupEventListeners();
      });

      function toggleLanguageDropdown() {
        const menu = document.getElementById("languageMenu");
        menu.classList.toggle("hidden");
      }

      // Close dropdown when clicking outside
      document.addEventListener("click", function (event) {
        const dropdown = document.getElementById("languageDropdown");
        const menu = document.getElementById("languageMenu");

        if (!dropdown.contains(event.target)) {
          menu.classList.add("hidden");
        }
      });

      function setupEventListeners() {
        // Transfer form submit
        document
          .getElementById("transferForm")
          .addEventListener("submit", handleTransferSubmit);
      }

      function loadRecentTransactions() {
        const transactions = [
          {
            id: "TXN001",
            type: "credit",
            description: "Salary Credit - Construction Work",
            amount: 8500,
            date: "2025-07-10",
            status: "completed",
          },
          {
            id: "TXN002",
            type: "debit",
            description: "Money Transfer to Family",
            amount: 5000,
            date: "2025-07-09",
            status: "completed",
          },
          {
            id: "TXN003",
            type: "debit",
            description: "Rent Payment",
            amount: 2000,
            date: "2025-07-08",
            status: "completed",
          },
          {
            id: "TXN004",
            type: "credit",
            description: "Government Benefit - PMGKY",
            amount: 500,
            date: "2025-07-07",
            status: "completed",
          },
        ];

        const container = document.getElementById("transactionsList");
        container.innerHTML = transactions
          .map(
            (txn) => `
          <div class="flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
            <div class="flex items-center">
              <div class="w-10 h-10 rounded-full flex items-center justify-center mr-4 ${
                txn.type === "credit" ? "bg-green-100" : "bg-red-100"
              }">
                <i class="fas ${
                  txn.type === "credit"
                    ? "fa-arrow-down text-green-600"
                    : "fa-arrow-up text-red-600"
                }"></i>
              </div>
              <div>
                <h4 class="font-medium text-gray-900">${txn.description}</h4>
                <p class="text-sm text-gray-600">${txn.date} • ${txn.id}</p>
              </div>
            </div>
            <div class="text-right">
              <div class="font-semibold ${
                txn.type === "credit" ? "text-green-600" : "text-red-600"
              }">
                ${
                  txn.type === "credit" ? "+" : "-"
                }₹${txn.amount.toLocaleString()}
              </div>
              <span class="text-xs text-gray-500">Completed</span>
            </div>
          </div>
        `
          )
          .join("");
      }

      function transferMoney() {
        document.getElementById("transferModal").classList.remove("hidden");
        document.getElementById("transferModal").style.display = "flex";
        document.body.style.overflow = "hidden";
      }

      function closeTransferModal() {
        document.getElementById("transferModal").classList.add("hidden");
        document.getElementById("transferModal").style.display = "none";
        document.body.style.overflow = "auto";
      }

      function applyLoan() {
        alert("Opening loan application portal...");
      }

      function viewInsurance() {
        alert("Opening insurance plans and policies...");
      }

      function openAccount() {
        alert("Opening account opening portal...");
      }

      function viewAllTransactions() {
        alert("Opening complete transaction history...");
      }

      function handleTransferSubmit(e) {
        e.preventDefault();

        // Show success message
        alert(
          "Money transfer initiated successfully! You will receive a confirmation SMS shortly."
        );

        closeTransferModal();

        // Reset form
        e.target.reset();

        // Refresh transactions list
        loadRecentTransactions();
      }

      function getCurrentLanguage() {
        return localStorage.getItem("selectedLanguage") || "en";
      }
    </script>
  </body>
</html>
